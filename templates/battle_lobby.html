<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Slay Battle</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='battle.css') }}">
</head>
<body>
    <div class="container">
        <h1>Slay Battle</h1>
        {% for slay in player1_slays %}
            <div class="slay-card">
                <!-- Slay Name and Biomass -->
                <div class="slay-header">
                    <h2>{{ slay.nickname }}</h2>
                </div>

                <!-- Slay Image -->
                <div class="slay-image">
                    {% if slay.name %}
                        <img src="{{ url_for('static', filename='images/' + (slay.name|lower) + '.png') }}" alt="{{ slay.name }} Image Missing">
                    {% else %}
                        <img src="{{ url_for('static', filename='images/default.png') }}" alt="Default Image">
                    {% endif %}
                </div>

                <!-- Health Bar -->
                <div class="health-bar">
                    <div class="health" style="width:{{ slay.current_stats['health'] / slay.base_stats['health'] * 100 }}%;"></div>
                    <div class="health-text">{{ "%.1f" % slay.current_stats['health'] }}/{{ "%.0f" % slay.base_stats['health'] }}</div>
                </div>


                <!-- Stats Grid -->
                <div class="stats">
                    <div class="stat stat-wide">
                        <div class="stat-label">BIOMASS</div>
                        <div class="stat-value">{{ slay.current_stats['biomass'] }}</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">STR</div>
                        <div class="stat-value">{{ slay.current_stats['STR'] }}</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">HAR</div>
                        <div class="stat-value">{{ slay.current_stats['HAR'] }}</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">DUR</div>
                        <div class="stat-value">{{ slay.current_stats['DUR'] }}</div>
                    </div>
                    <div class="stat stat-wide"> <!-- Add a special class for speed -->
                        <div class="stat-label">SPEED</div>
                        <div class="stat-value">{{ slay.current_stats['SPE'] }}</div>
                    </div>
                </div>

                <!-- Traits Grid -->
                <div class="traits">
                    {% for trait in slay.current_traits %}
                        <div class="trait">{{ trait }}</div>
                    {% endfor %}
                </div>

                <!-- Moves List -->
                <div class="moves">
                    <form method="post" action="{{ url_for('lock_in_move') }}">
                        {% for move in slay.current_moves %}
                            <div class="move-option">
                                <input type="radio" name="selected_move" id="move_{{ loop.index }}" value="{{ move.move_long_name }}">
                                <label for="move_{{ loop.index }}">{{ move.move_long_name }}</label>
                            </div>
                        {% endfor %}
                        <button type="submit" class="lock-move-button">CONFIRM</button>
                    </form>
                </div>
            </div>
        {% endfor %}
</body>
</html>
